<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Coming Soon â€” #f6978d</title>
    <style>
      @font-face{
        font-family: 'Darker Grotesque';
        src: url('Assets/DarkerGrotesque-VariableFont_wght.ttf') format('truetype');
        font-weight: 100 900;
        font-display: swap;
      }

      html,body{height:100%;margin:0;background:#ffffff;color:#111;font-family:'Darker Grotesque', Arial, sans-serif}
      .stage{position:relative;overflow:hidden;height:100vh;background:#ffffff}

      /* Scroller container and duplicated track for seamless loop */
      .scroller{position:absolute;inset:0;display:flex;align-items:center}
      .track{display:flex;gap:24px;align-items:center;padding:24px 0}
      .track img{height:60vh;max-height:640px;object-fit:cover;border-radius:8px}

      /* Track wrapper for animation */
      .track-wrap{
        display:flex;
        align-items:center;
        animation: scroll-left linear infinite;
      }

      /* overlay mask and message */
      .overlay{position:absolute;inset:0;background:rgba(255,255,255,0.5);display:flex;align-items:center;justify-content:center;pointer-events:none}
      .message{color:#f6978d;font-size:28px;font-weight:700;text-align:center;padding:24px}

      /* small screens */
      @media (max-width:600px){
        .track img{height:40vh}
        .message{font-size:20px}
      }
      /* bottom link (matches project.html style) */
      .bottom-link{
        position:fixed;
        bottom:24px;
        left:24px;
        color:#f6978d;
        text-decoration:none;
        font-family:'Darker Grotesque', Arial, sans-serif;
        font-size:24px;
        background:transparent;
        padding:8px 8px;
        z-index:10003;
      }
      .bottom-link.right{ left:auto; right:16px }
    </style>
  </head>
  <body>
    <div class="stage" id="stage">
      <div class="scroller">
        <div class="track-wrap" id="trackWrap">
          <div class="track" id="trackA"></div>
          <div class="track" id="trackB"></div>
        </div>
      </div>

      <div class="overlay" aria-hidden="false">
        <div class="message">visit us on October 30th for the new collection launch.</div>
      </div>
    </div>

    <script>
      // Image filenames found in Assets/Coming Soon
      const images = [
        'Assets/Coming Soon/Photo bowls.png',
        'Assets/Coming Soon/Composite linework 2.png',
        'Assets/Coming Soon/bowl and mug drawings-01.png',
        'Assets/Coming Soon/Plate and bowl drawings.png',
        'Assets/Coming Soon/Linework.png'
      ];

      const trackA = document.getElementById('trackA');
      const trackB = document.getElementById('trackB');
      const trackWrap = document.getElementById('trackWrap');

      // Helper to create img elements
      function createImgs(container){
        images.forEach(src => {
          const img = document.createElement('img');
          img.src = src;
          img.alt = '';
          container.appendChild(img);
        });
      }

      // populate both tracks (duplicate for seamless loop)
      createImgs(trackA);
      createImgs(trackB);

      // after images load, compute width and set animation duration
      function computeAndAnimate(){
        // total width of one track (including gap)
        const trackWidth = trackA.scrollWidth;

        // duration: adjust speed here (px per second)
        const speed = 80; // px per second - adjust this to change scroll speed
        const duration = Math.max(10, trackWidth / speed);

        // Create keyframe animation dynamically based on track width
        const keyframes = `@keyframes scroll-left{
          from{transform:translateX(0)}
          to{transform:translateX(-${trackWidth}px)}
        }`;
        
        const style = document.createElement('style');
        style.textContent = keyframes + `.track-wrap{animation-duration:${duration}s}`;
        document.head.appendChild(style);

        console.log(`Animation set: track width = ${trackWidth}px, duration = ${duration}s`);
      }

      // Wait for images to load then compute
      let loaded = 0;
      const allImgs = document.querySelectorAll('.track img');
      
      function checkAllLoaded(){
        loaded++;
        if (loaded === allImgs.length) {
          // Small delay to ensure layout is complete
          setTimeout(computeAndAnimate, 100);
        }
      }

      allImgs.forEach(img => {
        if (img.complete) {
          checkAllLoaded();
        } else {
          img.addEventListener('load', checkAllLoaded);
          img.addEventListener('error', checkAllLoaded); // Handle errors too
        }
      });

      // Removed the pause on hover functionality - animation now runs continuously
    </script>
    <a class="bottom-link right" href="project.html">Back to Store</a>
  </body>
</html>